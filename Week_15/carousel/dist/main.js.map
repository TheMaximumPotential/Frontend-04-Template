{"version":3,"sources":["webpack://component/./src/animation.js","webpack://component/./src/carousel.js","webpack://component/./src/cubicBezier.js","webpack://component/./src/framework.js","webpack://component/./src/gesture.js","webpack://component/./src/main.js","webpack://component/webpack/bootstrap","webpack://component/webpack/runtime/define property getters","webpack://component/webpack/runtime/hasOwnProperty shorthand","webpack://component/webpack/runtime/make namespace object","webpack://component/webpack/startup"],"names":["TICK","Symbol","TICK_HANDLE","ANIMATION","START_TIME","PAUSE_START","PAUSE_TIME","TimeLine","Set","Map","state","startTime","Date","now","animation","t","get","delay","duration","receive","requestAnimationFrame","cancelAnimationFrame","arguments","length","add","set","pause","Animation","object","property","endTime","timingFunction","template","v","time","range","progress","Carousel","attributes","Object","create","name","value","parent","appendChild","render","src","root","document","createElement","classList","url","div","style","backgroundImage","children","position","enableGesture","addEventListener","e","console","log","Component","cubicBezier","a1","a2","a3","a4","liner","bind","ease","easeIn","easeOut","easeInOut","setAttribute","child","mountTo","ElementWrapper","type","TextWrapper","content","createTextNode","element","Listener","recognizer","contexts","isListenerMouse","event","context","button","start","mousemove","buttons","key","move","mouseup","end","removeEventListener","changedTouches","touch","identifier","cancel","Recognizer","dispatcher","point","startX","clientX","startY","clientY","isTap","isPress","isPan","points","x","y","handle","setTimeout","dispatch","dx","dy","isVertical","Math","abs","clearTimeout","filter","push","d","p","sqrt","isFlick","velocity","Dispatcher","properties","Event","dispatchEvent","images","a","body"],"mappings":"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","file":"main.js","sourcesContent":["const TICK = Symbol('tick')\r\nconst TICK_HANDLE = Symbol('tick-handle')\r\nconst ANIMATION = Symbol('animation')\r\nconst START_TIME = Symbol('start-time')\r\nconst PAUSE_START = Symbol('pause-start')\r\nconst PAUSE_TIME = Symbol('pause-time')\r\n\r\nexport class TimeLine {\r\n\tconstructor() {\r\n\t\tthis[ANIMATION] = new Set()\r\n\t\tthis[START_TIME] = new Map()\r\n\t\tthis[PAUSE_START] = 0\r\n\t\tthis[PAUSE_TIME] = 0\r\n\t\tthis.state = 'Inited'\r\n\t}\r\n\r\n\tstart() {\r\n\t\tif (this.state !== 'Inited') {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.state = 'started'\r\n\t\tlet startTime = Date.now()\r\n\t\tthis[TICK] = () => {\r\n\t\t\tlet now = Date.now()\r\n\t\t\tfor (let animation of this[ANIMATION]) {\r\n\t\t\t\tlet t = 0\r\n\t\t\t\tif (this[START_TIME].get(animation) < startTime) {\r\n\t\t\t\t\tt = now - startTime - this[PAUSE_TIME] - animation.delay\r\n\t\t\t\t} else {\r\n\t\t\t\t\tt =\r\n\t\t\t\t\t\tnow -\r\n\t\t\t\t\t\tthis[START_TIME].get(animation) -\r\n\t\t\t\t\t\tthis[PAUSE_TIME] -\r\n\t\t\t\t\t\tanimation.delay\r\n\t\t\t\t}\r\n\t\t\t\tif (t > animation.duration) {\r\n\t\t\t\t\tthis[ANIMATION].delete(animation)\r\n\t\t\t\t\tt = animation.duration\r\n\t\t\t\t}\r\n\t\t\t\tif (t > 0) {\r\n\t\t\t\t\tanimation.receive(t)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis[TICK_HANDLE] = requestAnimationFrame(this[TICK])\r\n\t\t}\r\n\t\tthis[TICK]()\r\n\t}\r\n\r\n\tpause() {\r\n\t\tif (this.state !== 'started') {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.state = 'paused'\r\n\t\tthis[PAUSE_START] = Date.now()\r\n\t\tcancelAnimationFrame(this[TICK_HANDLE])\r\n\t}\r\n\r\n\tresume() {\r\n\t\tif (this.state !== 'paused') {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.state = 'resumed'\r\n\t\tthis[PAUSE_TIME] = Date.now() - this[PAUSE_START]\r\n\t\tthis[TICK]()\r\n\t}\r\n\r\n\tadd(animation, startTime) {\r\n\t\tif (arguments.length < 2) {\r\n\t\t\tstartTime = Date.now()\r\n\t\t}\r\n\t\tthis[ANIMATION].add(animation)\r\n\t\tthis[START_TIME].set(animation, startTime)\r\n\t}\r\n\treset() {\r\n\t\tthis.pause()\r\n\t\tthis.state = 'Inited'\r\n\t\tthis[ANIMATION] = new Set()\r\n\t\tthis[START_TIME] = new Map()\r\n\t\tthis[PAUSE_START] = 0\r\n\t\tthis[PAUSE_TIME] = 0\r\n\t\tthis[TICK_HANDLE] = null\r\n\t}\r\n}\r\n\r\nexport class Animation {\r\n\tconstructor(\r\n\t\tobject,\r\n\t\tproperty,\r\n\t\tstartTime,\r\n\t\tendTime,\r\n\t\tduration,\r\n\t\tdelay,\r\n\t\ttimingFunction,\r\n\t\ttemplate\r\n\t) {\r\n\t\ttimingFunction = timingFunction || ((v) => v)\r\n\t\ttemplate = template || ((v) => v)\r\n\r\n\t\tthis.object = object\r\n\t\tthis.property = property\r\n\t\tthis.startTime = startTime\r\n\t\tthis.endTime = endTime\r\n\t\tthis.duration = duration\r\n\t\tthis.delay = delay\r\n\t\tthis.timingFunction = timingFunction\r\n\t\tthis.template = template\r\n\t}\r\n\treceive(time) {\r\n\t\tlet range = this.endTime - this.startTime\r\n\t\tlet progress = this.timingFunction(time / this.duration)\r\n\t\tthis.object[this.property] = this.template(\r\n\t\t\tthis.startTime + range * progress\r\n\t\t)\r\n\t\t// console.log(this.object[this.property])\r\n\t}\r\n}\r\n","import { Component } from './framework'\r\nimport { TimeLine, Animation } from './animation'\r\nimport { enableGesture } from './gesture'\r\nimport { ease } from './cubicBezier'\r\n\r\nclass Carousel extends Component {\r\n\tconstructor() {\r\n\t\tsuper()\r\n\t\tthis.attributes = Object.create(null)\r\n\t}\r\n\tsetAttribute(name, value) {\r\n\t\tthis.attributes[name] = value\r\n\t}\r\n\tmountTo(parent) {\r\n\t\tparent.appendChild(this.render())\r\n\t}\r\n\trender() {\r\n\t\tlet src = this.attributes.src\r\n\t\tthis.root = document.createElement('div')\r\n\t\tthis.root.classList.add('carousel')\r\n\t\tfor (let url of src) {\r\n\t\t\t// 为什么不用 img 呢，因为 img 默认是可拖动的，会影响效果。\r\n\t\t\tlet div = document.createElement('div')\r\n\t\t\tdiv.style.backgroundImage = `url(${url})`\r\n\t\t\tthis.root.appendChild(div)\r\n\t\t}\r\n\t\tlet children = this.root.children\r\n\t\tlet position = 0\r\n\r\n\t\tenableGesture(this.root)\r\n\t\tthis.root.addEventListener('pan', (e) => {\r\n\t\t\tconsole.log(e)\r\n\t\t})\r\n\t\t// this.root.addEventListener('mousedown', (event) => {\r\n\t\t// \tlet startX = event.clientX\r\n\t\t// \tconst move = (event) => {\r\n\t\t// \t\tlet x = event.clientX - startX\r\n\t\t// \t\tlet current = position - (x - (x % 200)) / 200\r\n\t\t// \t\tfor (let offset of [-1, 0, 1]) {\r\n\t\t// \t\t\tlet pos = current + offset\r\n\t\t// \t\t\tpos = (pos + children.length) % children.length\r\n\t\t// \t\t\tchildren[pos].style.transition = 'none'\r\n\t\t// \t\t\tchildren[pos].style.transform = `translateX(${\r\n\t\t// \t\t\t\t-pos * 200 + offset * 200 + (x % 200)\r\n\t\t// \t\t\t}px)`\r\n\t\t// \t\t}\r\n\t\t// \t}\r\n\t\t// \tconst up = (event) => {\r\n\t\t// \t\tlet x = event.clientX - startX\r\n\t\t// \t\tposition -= Math.round(x / 200)\r\n\t\t// \t\tposition %= children.length\r\n\t\t// \t\tfor (let offset of [\r\n\t\t// \t\t\t0,\r\n\t\t// \t\t\t-Math.sign(Math.round(x / 200) - x + 100 * Math.sign(x)),\r\n\t\t// \t\t]) {\r\n\t\t// \t\t\tconsole.log(offset)\r\n\t\t// \t\t\tlet pos = position + offset\r\n\t\t// \t\t\tpos = (pos + children.length) % children.length\r\n\t\t// \t\t\tchildren[pos].style.transition = ''\r\n\t\t// \t\t\tchildren[pos].style.transform = `translateX(${\r\n\t\t// \t\t\t\t-pos * 200 + offset * 200\r\n\t\t// \t\t\t}px)`\r\n\t\t// \t\t}\r\n\t\t// \t\tdocument.removeEventListener('mousemove', move)\r\n\t\t// \t\tdocument.removeEventListener('mouseup', up)\r\n\t\t// \t}\r\n\t\t// \tdocument.addEventListener('mousemove', move)\r\n\t\t// \tdocument.addEventListener('mouseup', up)\r\n\t\t// })\r\n\t\t// let children = this.root.children\r\n\t\t// let currentIndex = 0\r\n\t\t// setInterval(() => {\r\n\t\t// \tlet nextIndex = (currentIndex + 1) % children.length\r\n\t\t// \tlet current = children[currentIndex]\r\n\t\t// \tlet next = children[nextIndex]\r\n\t\t// \tnext.style.transition = 'none'\r\n\t\t// \tnext.style.transform = `translateX(${100 - nextIndex * 100}%)`\r\n\t\t// \tsetTimeout(() => {\r\n\t\t// \t\tnext.style.transition = ''\r\n\t\t// \t\tcurrent.style.transform = `translateX(${\r\n\t\t// \t\t\t-100 - currentIndex * 100\r\n\t\t// \t\t}%)`\r\n\t\t// \t\tnext.style.transform = `translateX(${-nextIndex * 100}%)`\r\n\t\t// \t\tcurrentIndex = nextIndex\r\n\t\t// \t}, 16)\r\n\t\t// }, 3000)\r\n\t\treturn this.root\r\n\t}\r\n}\r\n\r\nexport default Carousel\r\n","function cubicBezier(a1, a2, a3, a4, t) {\r\n\treturn (\r\n\t\ta1 * (1 - t) * (1 - t) * (1 - t) +\r\n\t\t3 * a2 * t * (1 - t) * (1 - t) +\r\n\t\t3 * a3 * t * t * (1 - t) +\r\n\t\ta4 * t * t * t\r\n\t)\r\n}\r\n\r\nexport const liner = cubicBezier.bind(null, 0, 0, 1, 1)\r\nexport const ease = cubicBezier.bind(null, 0.25, 0.1, 0.25, 1)\r\nexport const easeIn = cubicBezier.bind(null, 0.42, 0, 1, 1)\r\nexport const easeOut = cubicBezier.bind(null, 0, 0, 0.58, 1)\r\nexport const easeInOut = cubicBezier.bind(null, 0.42, 0, 0.58, 1)\r\n","export class Component {\r\n\tconstructor() {\r\n\t\t// this.root = this.render()\r\n\t\t// this.attributes = Object.create(null)\r\n\t}\r\n\tsetAttribute(name, value) {\r\n\t\tthis.root.setAttribute(name, value)\r\n\t}\r\n\tappendChild(child) {\r\n\t\tchild.mountTo(this.root)\r\n\t}\r\n\tmountTo(parent) {\r\n\t\tparent.appendChild(this.root)\r\n\t}\r\n}\r\n\r\nclass ElementWrapper extends Component {\r\n\tconstructor(type) {\r\n\t\t// super()\r\n\t\t// this.type = type\r\n\t\t// this.root = this.render()\r\n\t\tthis.root = document.createElement(type)\r\n\t}\r\n\trender() {\r\n\t\treturn document.createElement(this.type)\r\n\t}\r\n}\r\n\r\nclass TextWrapper extends Component {\r\n\tconstructor(content) {\r\n\t\tsuper()\r\n\t\tthis.content = content\r\n\t\tthis.root = this.render()\r\n\t}\r\n\trender() {\r\n\t\treturn document.createTextNode(this.content)\r\n\t}\r\n}\r\n\r\nexport function createElement(type, attributes, ...children) {\r\n\tlet element = null\r\n\tif (typeof type === 'string') {\r\n\t\telement = new ElementWrapper(type)\r\n\t} else {\r\n\t\telement = new type()\r\n\t}\r\n\tfor (let name in attributes) {\r\n\t\telement.setAttribute(name, attributes[name])\r\n\t}\r\n\tfor (let child of children) {\r\n\t\tif (typeof child === 'string') {\r\n\t\t\tchild = new TextWrapper(child)\r\n\t\t}\r\n\t\telement.appendChild(child)\r\n\t}\r\n\treturn element\r\n}\r\n","class Listener {\r\n\tconstructor(element, recognizer) {\r\n\t\tthis.recognizer = recognizer\r\n\t\tconst contexts = new Map()\r\n\t\tlet isListenerMouse = true\r\n\r\n\t\telement.addEventListener('mousedown', (event) => {\r\n\t\t\tlet context = Object.create(null)\r\n\t\t\tcontexts.set('mouse' + (1 << event.button), context)\r\n\t\t\trecognizer.start(event, context)\r\n\t\t\tconst mousemove = (event) => {\r\n\t\t\t\tlet button = 1\r\n\t\t\t\twhile (button <= event.buttons) {\r\n\t\t\t\t\tif (button & event.buttons) {\r\n\t\t\t\t\t\tlet key\r\n\t\t\t\t\t\tif (button === 2) {\r\n\t\t\t\t\t\t\tkey = 4\r\n\t\t\t\t\t\t} else if (button === 4) {\r\n\t\t\t\t\t\t\tkey = 2\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tkey = button\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst context = contexts.get('mouse' + key)\r\n\t\t\t\t\t\trecognizer.move(event, context)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbutton = button << 1\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst mouseup = (event) => {\r\n\t\t\t\tconst context = contexts.get('mouse' + (1 << event.button))\r\n\t\t\t\trecognizer.end(event, context)\r\n\t\t\t\tcontexts.delete('mouse' + (1 << event.button))\r\n\t\t\t\tif (event.buttons === 0) {\r\n\t\t\t\t\tdocument.removeEventListener('mousemove', mousemove)\r\n\t\t\t\t\tdocument.removeEventListener('mouseup', mouseup)\r\n\t\t\t\t\tisListenerMouse = true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (isListenerMouse) {\r\n\t\t\t\tdocument.addEventListener('mouseup', mouseup)\r\n\t\t\t\tdocument.addEventListener('mousemove', mousemove)\r\n\t\t\t\tisListenerMouse = false\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\telement.addEventListener('touchstart', (event) => {\r\n\t\t\tfor (let touch of event.changedTouches) {\r\n\t\t\t\tlet context = Object.create(null)\r\n\t\t\t\tcontexts.set(touch.identifier, context)\r\n\t\t\t\trecognizer.start(touch, context)\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\telement.addEventListener('touchmove', (event) => {\r\n\t\t\tfor (let touch of event.changedTouches) {\r\n\t\t\t\tlet context = contexts.get(touch.identifier)\r\n\t\t\t\trecognizer.move(touch, context)\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\telement.addEventListener('touchend', (event) => {\r\n\t\t\tfor (let touch of event.changedTouches) {\r\n\t\t\t\tlet context = contexts.get(touch.identifier)\r\n\t\t\t\trecognizer.end(touch, context)\r\n\t\t\t\tcontexts.delete(touch.identifier)\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\telement.addEventListener('touchcancel', (event) => {\r\n\t\t\tfor (let touch of event.changedTouches) {\r\n\t\t\t\tlet context = contexts.get(touch.identifier)\r\n\t\t\t\trecognizer.cancel(touch, context)\r\n\t\t\t\tcontexts.delete(touch.identifier)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nclass Recognizer {\r\n\tconstructor(dispatcher) {\r\n\t\tthis.dispatcher = dispatcher\r\n\t}\r\n\tstart(point, context) {\r\n\t\tcontext.startX = point.clientX\r\n\t\tcontext.startY = point.clientY\r\n\t\tcontext.isTap = true\r\n\t\tcontext.isPress = false\r\n\t\tcontext.isPan = false\r\n\t\tcontext.points = [\r\n\t\t\t{\r\n\t\t\t\tt: Date.now(),\r\n\t\t\t\tx: point.clientX,\r\n\t\t\t\ty: point.clientY,\r\n\t\t\t},\r\n\t\t]\r\n\t\t// 按压\r\n\t\tcontext.handle = setTimeout(() => {\r\n\t\t\tcontext.isTap = false\r\n\t\t\tcontext.isPress = true\r\n\t\t\tcontext.isPan = false\r\n\t\t\tcontext.handle = null\r\n\t\t\t// console.log('press')\r\n\t\t\tthis.dispatcher.dispatch('press', {})\r\n\t\t}, 500)\r\n\t}\r\n\tmove(point, context) {\r\n\t\tlet dx = point.clientX - context.startX\r\n\t\tlet dy = point.clientY - context.startY\r\n\t\t// 移动距离超过误差范围\r\n\t\tif (!context.isPan && dx ** 2 + dy ** 2 > 100) {\r\n\t\t\tcontext.isPan = true\r\n\t\t\tcontext.isTap = false\r\n\t\t\tcontext.isPress = false\r\n\t\t\tcontext.isVertical = Math.abs(dx) < Math.abs(dy)\r\n\t\t\tthis.dispatcher.dispatch('panstart', {\r\n\t\t\t\tstartX: context.startX,\r\n\t\t\t\tstartY: context.startY,\r\n\t\t\t\tclientX: point.clientX,\r\n\t\t\t\tclientY: point.clientY,\r\n\t\t\t\tisVertical: context.isVertical,\r\n\t\t\t})\r\n\t\t\tclearTimeout(context.handle)\r\n\t\t}\r\n\t\tif (context.isPan) {\r\n\t\t\tthis.dispatcher.dispatch('pan', {\r\n\t\t\t\tstartX: context.startX,\r\n\t\t\t\tstartY: context.startY,\r\n\t\t\t\tclientX: point.clientX,\r\n\t\t\t\tclientY: point.clientY,\r\n\t\t\t\tisVertical: context.isVertical,\r\n\t\t\t})\r\n\t\t}\r\n\t\tcontext.points = context.points.filter(\r\n\t\t\t(point) => Date.now() - point.t < 500\r\n\t\t)\r\n\t\tcontext.points.push({\r\n\t\t\tt: Date.now(),\r\n\t\t\tx: point.clientX,\r\n\t\t\ty: point.clientY,\r\n\t\t})\r\n\t}\r\n\tend(point, context) {\r\n\t\t// 点击\r\n\t\tif (context.isTap) {\r\n\t\t\tclearTimeout(context.handle)\r\n\t\t\tthis.dispatcher.dispatch('tap', {})\r\n\t\t}\r\n\t\t// 按压\r\n\t\tif (context.isPress) {\r\n\t\t\tthis.dispatcher.dispatch('pressend', {})\r\n\t\t}\r\n\t\tcontext.points = context.points.filter(\r\n\t\t\t(point) => Date.now() - point.t < 500\r\n\t\t)\r\n\t\tlet v = 0,\r\n\t\t\td = 0\r\n\t\tif (!context.points.length) {\r\n\t\t\tv = 0\r\n\t\t} else {\r\n\t\t\tlet p = context.points[0]\r\n\t\t\td = Math.sqrt(\r\n\t\t\t\t(point.clientX - p.x) ** 2 + (point.clientY - p.y) ** 2\r\n\t\t\t)\r\n\t\t\tv = d / (Date.now() - p.t)\r\n\t\t}\r\n\t\t// 快速滑动\r\n\t\tif (v > 1.5) {\r\n\t\t\tthis.dispatcher.dispatch('flick', {\r\n\t\t\t\tstartX: context.startX,\r\n\t\t\t\tstartY: context.startY,\r\n\t\t\t\tclientX: point.clientX,\r\n\t\t\t\tclientY: point.clientY,\r\n\t\t\t\tisVertical: context.isVertical,\r\n\t\t\t\tisFlick: context.isFlick,\r\n\t\t\t\tvelocity: v,\r\n\t\t\t})\r\n\t\t\tcontext.isFlick = true\r\n\t\t} else {\r\n\t\t\tcontext.isFlick = false\r\n\t\t}\r\n\t\t// 移动\r\n\t\tif (context.isPan) {\r\n\t\t\tthis.dispatcher.dispatch('panend', {\r\n\t\t\t\tstartX: context.startX,\r\n\t\t\t\tstartY: context.startY,\r\n\t\t\t\tclientX: point.clientX,\r\n\t\t\t\tclientY: point.clientY,\r\n\t\t\t\tisVertical: context.isVertical,\r\n\t\t\t\tisFlick: context.isFlick,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\tcancel(point, context) {\r\n\t\tclearTimeout(context.handle)\r\n\t\tthis.dispatcher.dispatch('cancel', {})\r\n\t}\r\n}\r\n\r\nclass Dispatcher {\r\n\tconstructor(element) {\r\n\t\tthis.element = element\r\n\t}\r\n\tdispatch(type, properties) {\r\n\t\tlet event = new Event(type)\r\n\t\tfor (let name in properties) {\r\n\t\t\tevent[name] = properties[name]\r\n\t\t}\r\n\t\tthis.element.dispatchEvent(event)\r\n\t}\r\n}\r\n\r\nexport function enableGesture(element) {\r\n\tnew Listener(element, new Recognizer(new Dispatcher(element)))\r\n}\r\n","import { createElement } from './framework'\r\nimport Carousel from './carousel'\r\nimport { TimeLine, Animation } from './animation'\r\n\r\nconst images = [\r\n\t'./src/assets/images/a1.png',\r\n\t'./src/assets/images/a2.png',\r\n\t'./src/assets/images/a3.png',\r\n\t'./src/assets/images/a4.png',\r\n\t'./src/assets/images/a5.png',\r\n\t'./src/assets/images/a6.png',\r\n]\r\n\r\nlet a = <Carousel src={images} />\r\n\r\na.mountTo(document.body)\r\n\r\n// let tl = new TimeLine()\r\n// let animation = new Animation({}, length, 0, 100, 1000, 1000, null)\r\n// tl.add(animation, Date.now() + 1000)\r\n// tl.start()\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n__webpack_require__(\"./src/main.js\");\n// This entry module used 'exports' so it can't be inlined\n"],"sourceRoot":""}